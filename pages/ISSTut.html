<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/bootstrap.css" />
    <link rel="stylesheet" href="../css/nba.css" />
    <link rel="stylesheet" href="../css/prism.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
    <title>IP3 Dream Team - Where Is the ISS Tutorial</title>
</head>

<body>
    <!-- Navbar section -->
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark" aria-label="Third navbar example">
        <div class="container-fluid">
            <a class="navbar-brand" href="../pages/index.html">IP3 Dream Team</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample03"
                aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsExample03">
                <ul class="navbar-nav me-auto mb-2 mb-sm-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-bs-toggle="dropdown"
                            aria-expanded="false">Visualisations</a>
                        <ul class="dropdown-menu" aria-labelledby="dropdown03">
                            <li>
                                <a class="dropdown-item" href="../pages/covid.html">Covid-19 Countries Statistics</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/nba.html">NBA Analytics</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/iss.html">Where is the ISS</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/temperature.html">Global Temperatures</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/words.html">Words & Synonyms</a>
                            </li>
                            <li><a class="dropdown-item">Coming Soon...</a>
                                <disabled>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-bs-toggle="dropdown"
                            aria-expanded="false">Tutorials</a>
                        <ul class="dropdown-menu" aria-labelledby="dropdown03">
                            <li>
                                <a class="dropdown-item" href="../pages/covidTut.html">Covid 19</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/nbaTut.html">NBA Analytics</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/ISSTut.html">Where is the ISS</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/temperatureTut.html">Global Temperatures</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="../pages/wordsTut.html">Words & Synonyms</a>
                            </li>
                            <li><a class="dropdown-item">Coming Soon...</a>
                                <disabled>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../pages/TheTeam.html">The Team</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- End of Navbar section -->

    <!-- Main -->
    <main>
        <div class="container">
            <!-- Heading -->
            <header>
                <h1 style="text-align: center" id="titleHead">Where is the ISS? Tutorial</h1>
            </header>

            </br>

            <div class="justify-content-center">
                <h1 class="text-center">Why Visualise International Space Station?</h1>
                <p>Everyone is interested with the concept of space and with the recent news of Elon Musk and his space
                    adventures.
                    Also this is allows for the visualisation to be shown via a map which is different to everyone
                    elses.
                </p>

                <p>
                    On this page, there will be a tutorial on how to utilise the Where is the iss? API. This API
                    provided the data location of the ISS in Longitude and Latitude figures.
                    This tutorial will focus specifically on the exact positioning of the ISS and displaying it on the
                    map along with the co-ords with it.
                    It will contain how to code the API and how to use it the way that I have decided to implement it.
                </p>

                <h1 class="text-center">The Data Sources Used</h1>
                <p>For visualising the data for the position of the ISS. I used "Where the ISS at?" which is a Rest API
                    which can supply current, past, or future position of the ISS.</p>
                <img src="../images/ewanTutorial/whereisiss.png" alt="" class="img-fluid border border-4">
                <p class="text-center">Link to the <a href="https://wheretheiss.at/w/developer">Where is the ISS?
                        API</a> used</p>

                <h1 class="text-center">Making JavaScript Files Run</h1>
                <p>
                    To make the file run when the HTML page runs, you need to include the scripts at the bottom of the
                    page. The following
                    code is how you should do this. This includes the scripts to the AJAX libraries and the scripts to
                    both of the JS pages used
                    to pull the data.
                </p>
                <pre>
                    <code class="language-html">
                        &lt;script src="../js/ewan/iss.js"></script>
                    </code>
                </pre>
                <h1 class="text-center">Getting Location Data</h1>
                <p>
                    To start with an create an async function which will, allow to use the await keyword from the
                    start.This function will be called getISS.
                    I also created a global variable called api_url which will then just allow me to input that variable
                    name when calling the API in the fetch function
                </p>
                <pre>
                    <code class="lang-js">
                        async function getISS() {
                            const response = await fetch(api_url);
                        }
                        const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';

                    </code>
                </pre>
                    </div>
                
                <h2 class="text-center">2. Converting the stream of data into desired response </h2>
                <p> 
                    When the data comes back from the fetch function it needs to be converted into the way you want.
                    We want the response to come back as json. From the Json response we want only the Longitude and Latitude data.
                    Since the data response is being converted into json it allows to easily get them with the JavaScript Object. 
                    The being able to JavaScript destructioning it allows to take the data from the object and puts them into their own variables. 
                    Doing this it makes it easy to display the location data onto the page.

                </p>
                <pre>
                    <code class="lang-js">
                        const data = await response.json();
                        const { latitude, longitude } = data;

                        
                        document.getElementById('lat').textContent = latitude.toFixed(2);
			            document.getElementById('lon').textContent = longitude.toFixed(2); 
                    </code>
                </pre>

                <p>
                    Using the .toFixed allows to display the figures to a certain decimal point preventing horrible long numbers being displayed
                </p>

                <h2 class="text-center">3. Accessing Leaflet.JS  </h2>
                <p> 
                    To prepare for using Leaflet.JS some small preparation steps need to be done. You firstly need to include the Leaflet CSS file in the head of the html file. 
                </p>
                <pre>
                    <code class="lang-js">
                        &lt;link
			            rel="stylesheet"
			            href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
			            integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
			            crossorigin=""
                        />
                    </code>
                </pre>
                <p>
                    The next preparation step is to include the Leaflet JavaScript file after the CSS one
                </p>
                <pre>
                    <code class="lang-js">
                        &lt;script
                        src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
                        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
                        crossorigin=""
                        /script>
                    </code>
                </pre>
                <p>
                    The last preparation step that needs to be made is to create a div for where the map will be placed on the page along with this it needs to have a defined hight for it to display.
                </p>

                <pre>
                    <code class="lang-html">
                        &lt;div id="issMap">&lt;/div>

                        &lt;style>
                            #issMap {
                                height: 500px;
                            }
                        &lt;/style>
                    </code>
                </pre>

                <h2 class="text-center">4. Creating Map Object</h2>
                <p> 
                    We need to create the map object for it to display now that we have done all the prep on the script side. The variables within the
                    .setView are for Longitude & Latitude for the position of the map when it first loads and the last one is for the zoom level of the map.

                </p>
                <pre>
                    <code class="language-js">
                        const mymap = L.map('issMap').setView([0, 0], 1);
		                const attribution = &copy; &lt;a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';

                    </code>
                </pre>
                <P>
                    At this stage the map area will be visible but it wont show anything that is because the map tile hasn't been specified.
                    A tile for the map is the image in which the map is made up of. So to get the tiles we will be using OpenStreetMap which is an open repository.
                    The only thing that is required to use Open Street map is that it requires you to include an attribution

                </P>
                <pre>
                    <code class="lang-js">
                        const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
		                const tiles = L.tileLayer(tileUrl, { attribution });
		                tiles.addTo(mymap);
                    </code>
                </pre>


            <h1 class="text-center">Using the Where is the ISS Page</h1>
            <h2 class="text-center">1. Open up the page by clicking on a link</h2>
            <p>
                Either Navigate to the page using the Nav-Bar or click on <a href="../pages/iss.html">this link</a> to
                access the Where is the ISS Page.
            </p>
            <h2 class="text-center">2. See the data that is displayed!</h2>
            <p>
                The page then should automatically update with map,
                </br>
                <img src="../images/issPage.jpg" alt="" class="img-fluid border border-4">
            </p>

        </div>




        </div>
    </main>

    <!-- Bootstrap bundle with popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
        </script>
    <script src="../js/prism.js"></script>
</body>

</html>